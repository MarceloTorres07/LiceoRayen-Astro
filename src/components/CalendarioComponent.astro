---
import '../styles/global.css'
---


<div class="md:absolute md:top-4 md:right-4 bg-white bg-opacity-40 p-6 rounded-lg shadow-lg w-full md:w-72 mt-6 md:mt-0">
  <h6 id="calendar-title" class="text-center font-bold mb-3 text-base">Calendario</h6>
  <table class="w-full border border-gray-300 text-center text-sm">
    <thead class="bg-gray-800 text-white">
      <tr>
        <th class="p-2">L</th>
        <th class="p-2">Ma</th>
        <th class="p-2">Mi</th>
        <th class="p-2">J</th>
        <th class="p-2">V</th>
        <th class="p-2">S</th>
        <th class="p-2">D</th>
      </tr>
    </thead>
    <tbody id="calendar-body"></tbody>
  </table>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const calendarTitle = document.getElementById('calendar-title');
    const calendarBody = document.getElementById('calendar-body');

    if (!calendarTitle || !calendarBody) return;

    const today = new Date();
    const year = today.getFullYear();
    const month = today.getMonth();
    const currentDay = today.getDate();

    const monthNames = [
      "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
      "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"
    ];

    calendarTitle.textContent = `${monthNames[month]} ${year}`;

    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const startDay = (firstDay.getDay() + 6) % 7;

    let html = "";
    let day = 1;

    for (let i = 0; i < 6; i++) {
      html += "<tr>";
      for (let j = 0; j < 7; j++) {
        if (i === 0 && j < startDay) {
          html += "<td class='p-2'></td>";
        } else if (day > lastDay.getDate()) {
          html += "<td class='p-2'></td>";
        } else {
          const isToday = day === currentDay;
          const classes = isToday ? "p-2 bg-blue-500 text-white font-bold rounded" : "p-2";
          html += `<td class='${classes}'>${day}</td>`;
          day++;
        }
      }
      html += "</tr>";
      if (day > lastDay.getDate()) break;
    }

    calendarBody.innerHTML = html;
  });
</script>